
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales">
      
      
        <meta name="author" content="Christopher Bienko (cdbienko@us.ibm.com)">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Prerequisites and Preparation - IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prerequisites-and-preparation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales" class="md-header__button md-logo" aria-label="IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Prerequisites and Preparation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales" class="md-nav__button md-logo" aria-label="IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM Cloud Hyper Protect Services Level 3 for Sales and Technical Sales
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/" class="md-nav__link">
        Evaluation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Module 1 - IBM Cloud Hyper Protect Crypto Services (HPCS)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Module 1 - IBM Cloud Hyper Protect Crypto Services (HPCS)" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Module 1 - IBM Cloud Hyper Protect Crypto Services (HPCS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../HPCS/01-Introduction-to-HPCS-and-UKO/" class="md-nav__link">
        Introduction to HPCS and UKO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../HPCS/02-Provision-and-access/" class="md-nav__link">
        Provision and access an IBM Technology Zone environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../HPCS/03-Create-a-key/" class="md-nav__link">
        Generating a unique key with the AWS Keystore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../HPCS/04-Digitally-shred/" class="md-nav__link">
        Digitally shred AWS S3 objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../HPCS/05-Clean-up/" class="md-nav__link">
        Clean up and conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Module 2 - IBM Cloud Hyper Protect Virtual Servers (HPVS)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Module 2 - IBM Cloud Hyper Protect Virtual Servers (HPVS)" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Module 2 - IBM Cloud Hyper Protect Virtual Servers (HPVS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-Introduction-to-HPVS/" class="md-nav__link">
        Introduction to HPVS
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Prerequisites and Preparation
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-Contract-Creation/" class="md-nav__link">
        Creation of a Contract for PayNow Application via Terraform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-Configure-HPVS/" class="md-nav__link">
        Configuration of a Hyper Protect Virtual Servers for VPC Instance on IBM Cloud
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="prerequisites-and-preparation">Prerequisites and Preparation</h1>
<hr />
<p>The following module will guide you through the necessary setup and configuration required before deploying the HPVS lab environment.</p>
<hr />
<ol>
<li>Sign up for an <strong>IBM Cloud account</strong> and IBMid using the following link: <a href="https://cloud.ibm.com/registration" target="_blank">https://cloud.ibm.com/registration</a></li>
</ol>
<p>You will be asked to supply a credit card to be associated with the account. Any billing you accrue on your IBM Cloud account will be billed at the next IBM Cloud billing cycle to that credit card.</p>
<p>If your IBM Cloud account requires an API key for login or belongs with a Federated account (most IBM employees), you will need to supply additional instructions for logging in via the IBM Cloud CLI. A quick way to look up the necessary login string (with a one-time passcode) for your account is to first use your web browser to log in to <a href="https://cloud.ibm.com" target="_blank">www.cloud.ibm.com</a>.</p>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure13.png" width="200" /></p>
<p>Once logged in, click on your user account icon in the top right-hand corner of the page and select <strong>Log in to CLI and API</strong> from the drop-down menu. A panel will open with a command line string that you can paste into your Terminal / PowerShell console for connecting via the IBM Cloud CLI.</p>
<hr />
<ol start="2">
<li>From the IBM Cloud web interface, provision a <strong>Lite plan</strong> of the <strong>IBM Log Analysis</strong> service from the following page:</li>
</ol>
<p><a href="https://cloud.ibm.com/catalog/services/logdna?callback=%2Fobserve%2Flogging%2Fcreate" target="_blank">https://cloud.ibm.com/catalog/services/logdna?callback=%2Fobserve%2Flogging%2Fcreate</a></p>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure10.png" width="400" /></p>
<p>Note that the "Lite" plan is free to use, but with limited functionality and only a 30 day window to operate before it is automatically de-provisioned. When configuring the service, use the following options:</p>
<ul>
<li>
<p><strong>Service Name</strong>: Set to a unique name of your preference.</p>
</li>
<li>
<p><strong>Resource Group</strong>: Leave as default.</p>
</li>
<li>
<p><strong>Tags and Access Management</strong> tags can be left blank.</p>
</li>
</ul>
<p>Confirm that you have read and agree to the license agreements, then click <strong>Create</strong> to provision.</p>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure12.png" width="400" /></p>
<p>You will need to record details about the <strong>Ingestion Host</strong> and the <strong>Ingestion ID</strong> for reference at a later step.</p>
<p>They will be something similar to:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Ingestion Host: syslog-a.eu-gb.logging.cloud.ibm.com
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Ingestion ID: 9a035a6ee2f2ae77c566a543e0957ed8
</code></pre></div></p>
<p>Locate the Host and ID specific to your environment by performing the following:</p>
<ul>
<li>
<p>Click <strong>Open Dashboard</strong> from the Log Analysis service page on IBM Cloud</p>
</li>
<li>
<p>In the bottom-left corner of the dashboard, click the <code>?</code> icon (for <code>Install Instructions</code>).</p>
</li>
</ul>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure18.png" width="400" /></p>
<ul>
<li>A panel to "Add Log Sources" will appear. From the left side of the panel, click to drill down into the <strong>rsyslog</strong> tab.</li>
</ul>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure19.png" width="400" /></p>
<ul>
<li>In the top right of the page is a hidden string titled <code>Your Ingestion key is:</code>. Click the clipboard icon to the right of the string and save this value in your records as the <strong>Ingestion ID</strong>.</li>
</ul>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure20.png" width="400" /></p>
<ul>
<li>In a large grey box on-screen are the contents for the <code>/etc/rsyslog.d/22-logdna.conf</code> file. Locate the two of lines towards the bottom which read:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a># Send messages to LogDNA over TCP using the template.
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>*.* @@syslog-a.us-south.logging.cloud.ibm.com:6514;LogDNAFormat
</code></pre></div>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure21.png" width="400" /></p>
<ul>
<li>Your particular values will be different than the sample above. The <em>second</em> line is the one of interest to us at this time. Record <strong>YOUR</strong> unique values for the following segment: <code>syslog-a.us-south.logging.cloud.ibm.com</code> including everything between <code>syslog</code> and <code>.com</code>. Save this value in your records as the <strong>Ingestion Host</strong>.</li>
</ul>
<hr />
<ol start="3">
<li>Install the <a href="https://brew.sh" target="_blank">Homebrew package manager</a> on your local machine. Alternatively, Windows or Linux clients can use other package managers (like <code>pip</code>) if you wish; however, be aware that the install commands and syntax may vary between package managers.</li>
</ol>
<p>If you do not have the Homebrew package manager installed in a macOS environment, execute the following instruction inside a Terminal console:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>/bin/bash -c <span class="s2">&quot;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<p>Follow the prompts until the installation has concluded, then continue with the lab guide instructions.</p>
<hr />
<ol start="4">
<li>Install the <a href="https://www.docker.com/get-started/" target="_blank">Docker</a> container service by downloading the Docker Desktop version appropriate to your machine's operating system.</li>
</ol>
<p>Alternatively, use the <code>brew</code> package manager to install Docker on your local machine. This will be required for connecting to the IBM Cloud Container Registry.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>brew install docker
</code></pre></div>
<p>Follow the prompts until the installation has concluded, then continue with the lab guide instructions.</p>
<details class="warning">
<summary>DOCKER DESKTOP MUST BE RUNNING</summary>
<p>After installation, ensure that the Docker Desktop service is running on your machine (check the taskbar or launch the application manually). Otherwise, you will encounter errors in <strong>Step 7</strong> when trying to compile the <code>PayNow</code> container image.</p>
</details>
<hr />
<ol start="5">
<li>On your local desktop or laptop, download and install <strong>Git</strong>. Click to expand more details on how to configure Git for your particular operating system.</li>
</ol>
<details class="tip">
<summary>macOS</summary>
<ul>
<li>
<p>Open the macOS Terminal shell prompt.</p>
</li>
<li>
<p>Execute the following instructions to install the Homebrew package manager:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>/bin/bash -c <span class="s2">&quot;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div></p>
</li>
<li>
<p>Follow the instructions provided during the Homebrew installation to add Homebrew to your machine's local PATH.</p>
</li>
<li>
<p>Once the installation of Homebrew is complete, execute the following command to install Git:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>brew install git
</code></pre></div></p>
</li>
<li>
<p>After installation has concluded, verify the Git install using the following statement:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>git version
</code></pre></div></p>
</li>
</ul>
</details>
<details class="note">
<summary>Windows</summary>
<ul>
<li>
<p>Visit the <a href="https://gitforwindows.org/" target="_blank">Git for Windows page</a> and download the latest version to your machine.</p>
</li>
<li>
<p>Once the installer has started, follow the instructions as provided in the Git Setup wizard screen until the installation is complete.</p>
</li>
<li>
<p>Open the windows command prompt (or Git Bash if you selected not to use the standard Git Windows Command Prompt during the Git installation).</p>
</li>
<li>
<p>Execute the following to verify Git was installed:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>git version
</code></pre></div></p>
</li>
</ul>
</details>
<hr />
<ol start="6">
<li>Use <code>Git</code> to clone the <a href="https://github.com/ibm-hyper-protect/paynow-website" target="_blank">HPVS "PayNow" demo</a> code repository from GitHub.</li>
</ol>
<p>Enter the following command into Terminal to clone the repository via the command line:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>gh repo clone ibm-hyper-protect/paynow-website
</code></pre></div></p>
<p>Alternatively, if you visit the <a href="https://github.com/ibm-hyper-protect/paynow-website" target="_blank">GitHub</a> repository, click the green <strong>Code</strong> button and then <strong>Download ZIP</strong> from the drop-down menu. This will download the GitHub repository code to a directory of your choosing on your local machine.</p>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure14.png" width="400" /></p>
<p>The Pay Now Website is a simple application, that presents an interface to make payments. The application shows how sensitive payment related information (such as credit card data) is used. It is recommended to run this application in a confidential computing environment where PII data in use is protected from malicious actors.</p>
<hr />
<ol start="7">
<li>With Terminal, navigate to the <code>paynow-website</code> that you just cloned/saved locally on your machine in the previous step. For example:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>cd ~/Desktop/paynow-website
</code></pre></div>
<p>Once inside the directory, execute the following command to build the <code>PayNow</code> container image for the <code>linux/s390x</code> platform and tag the container image:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>docker buildx build --platform linux/s390x -t us.icr.io/hpvs-sample/paynow-website .
</code></pre></div>
<p>The container image build should take approximately 1 to 2 minutes to complete.</p>
<hr />
<ol start="8">
<li>Install the <strong>IBM Cloud Command Line Interface</strong> (CLI) for your local machine to manage resources in the IBM Cloud. </li>
</ol>
<p>Instructions for how to do so across a variety of operating systems are provided online: <a href="https://cloud.ibm.com/docs/cli?topic=cli-install-ibmcloud-cli" target="_blank">https://cloud.ibm.com/docs/cli?topic=cli-install-ibmcloud-cli</a></p>
<p>Create a <strong>public SSH key</strong> which will be used for connecting to the virtual server instance that we will deploy later.</p>
<p>Within your IBM Cloud CLI or local Terminal command prompt, execute the following command to generate a public SSH key:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>ssh-keygen -t rsa
</code></pre></div>
<p>The command will generate two files— <code>id_rsa</code> and <code>id_rsa.pub</code> —which will be placed either under an .ssh directory (the exact directory address will be displayed to the command line, such as <code>/Users/.ssh/id_rsa</code>) or within the same directory that you executed the <code>ssh-key -t rsa</code> instruction from.</p>
<p>Execute the following instruction in the command line to open the current directory with your desktop file browser and look for the pair of key files:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>open .
</code></pre></div>
<p><strong>SAVE</strong> this <code>.pub</code> file where you can easily retrieve it, as it will be necessary at a later stage.</p>
<hr />
<ol start="9">
<li>Next, install the <strong>IBM Cloud</strong> <a href="https://cloud.ibm.com/docs/codeengine?topic=codeengine-getting-started" target="_blank"><strong>Code Engine</strong></a> plug-in:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>ibmcloud plugin install code-engine
</code></pre></div>
<details class="warning">
<summary>DEPRECATION OF IBM CLOUD FOUNDRY (<code>CF</code>)</summary>
<p>IBM Cloud Foundry or <code>CF</code> has been <a href="https://cloud.ibm.com/docs/cloud-foundry-public?topic=cloud-foundry-public-deprecation#dep_details" target="_blank">deprecated as of June 1, 2023</a>. If you encounter any IBM Cloud documentation requiring the use of <code>CF</code>, substitute commands using the <a href="https://cloud.ibm.com/docs/codeengine?topic=codeengine-getting-started" target="_blank">Code Engine</a> API documentation in its place.</p>
</details>
<hr />
<ol start="10">
<li>Execute the following command to verify that the plug-in is installed:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>ibmcloud plugin show code-engine
</code></pre></div>
<hr />
<ol start="11">
<li>Log in to the <strong>IBM Cloud Container Registry</strong> with the following command:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ibmcloud cr login --client docker
</code></pre></div>
<details class="warning">
<summary>CONNECTION ERROR</summary>
<p>If you are unable to connect to the IBM Cloud Container Registry and receive an error similar to the following...
<code>Failed to 'docker login' to 'us.icr.io' with error: Error saving credentials: error storing credentials...</code></p>
<p>You will need to remove an existing Docker configuration file from your local machine first. Do so with the following command:
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>rm ~/.docker/config.json
</code></pre></div></p>
<p>Afterwards, try to connect to the IBM Cloud Container Registry again using the same command as before.</p>
</details>
<hr />
<ol start="12">
<li>Create a namespace and push the container image by running the following commands. Execute these in the <strong>SAME</strong> directory that you saved your <code>paynow-website</code> clone in Step 6 and built your Docker container image in Step 7.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>ibmcloud cr namespace-add hpvs-sample
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>docker push us.icr.io/hpvs-sample/paynow-website
</code></pre></div>
<hr />
<p>Wait until all of the components have successfully been pushed to the IBM Cloud repository.</p>
<p>Once complete, the Terminal console will report back with a <code>RepoDigests</code> value. <strong>COPY</strong> this value to a clipboard and save it for reference later.</p>
<p><img alt="" loading="lazy" src="../_attachments/module2_figure15.png" width="400" /></p>
<ol start="13">
<li>If you need to retrieve the digest value at a later time, you can do so by executing the following command. Do so now and also record the <strong>FULL</strong> print-out to a notepad. The information on your container registry will be useful at a later stage.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>docker inspect us.icr.io/hpvs-sample/paynow-website | grep -A 1 RepoDigests
</code></pre></div>
<hr />
<h1 id="next-steps">Next Steps</h1>
<p>At this stage, the PayNow application's container image has been prepared and is now available for use in the IBM Cloud. In the following section, you will use these tools and technologies to generate a <code>Contract</code> for creation of an HPVS instance with the IBM Hyper Protect Container Runtime (HPCR) image.</p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../01-Introduction-to-HPVS/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction to HPVS" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Introduction to HPVS
            </div>
          </div>
        </a>
      
      
        
        <a href="../03-Contract-Creation/" class="md-footer__link md-footer__link--next" aria-label="Next: Creation of a Contract for PayNow Application via Terraform" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Creation of a Contract for PayNow Application via Terraform
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 IBM
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>